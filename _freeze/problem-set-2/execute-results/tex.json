{
  "hash": "295838bffc096208ea30fdaeb77ea763",
  "result": {
    "engine": "jupyter",
    "markdown": "---\nformat:\n  html: default\n  pdf: default\ntitle: Problem Set 2\n---\n\n\n\n\n\nThis problem set will take you through some Stata commands to estimate simple regression equations with dummy variables. You will learn how to interpret the estimated coefficients and test some linear hypotheses. Interpretation of these coefficients will be useful when we do treatment evaluation models later in term 1.\n\nThe hypothesis tests discussed in this problem set include standard T-tests and F-tests, which is assumed undergraduate knowledge for this module. \n\nYou will need to download the dataset problem-set-2-data.dta, which is available on Moodle.\n\n## Conditional Expectation Function\n\nConsider the Conditional Expectation Function (CEF), $E[Y_i|X_i]$. If $X$ takes on discrete values: $X_i\\in\\{x_1,x_2,...,x_m\\}$, then \n\n$$\n\tE[Y_i|X_i] =  E[Y_i|X_i=x_1]\\cdot\\mathbf{1}\\{X_i = x_1\\}+...+E[Y_i|X_i=x_m]\\cdot\\mathbf{1}\\{X_i = x_m\\}\n$$\nwhere $\\mathbf{1}\\{X_i = x_m\\}$ is a dummy variable, $=1$ when $X_i=x_m$. Since the values of $X_i$ are mutually exclusive there is no overlap of these dummy variables. \n\nNote, we do not need to assume that $X$ is a single random variable. It can be a vector of random variables that takes on discrete values. \n\nWe can re-arrange this expression using anyone of the values of $X$. The natural option is to choose the first, but this is arbitrary.\n\n$$\n\\begin{aligned}\n\tE[Y_i|X_i] =& E[Y_i|X_i=x_1]+ (E[Y_i|X_i=x_2]-E[Y_i|X_i=x_1])\\cdot\\mathbf{1}\\{X_i = x_2\\}+... \\\\\n&+(E[Y_i|X_i=x_m]-E[Y_i|X_i=x_1])\\cdot\\mathbf{1}\\{X_i = x_m\\}\n\\end{aligned}\n$$\n\nSince, $E[Y_i|X_i = x_m]$ is a constant ($X_i$ is set to a specific value), we can express the CEF as a function that is linear in parameters. \n\n$$\n\tE[Y_i|X_i] = \\beta_1 + \\beta_2D_{i2} + ... + \\beta_m D_{im}\n$$\n\nwhere $D_{im}\\mathbf{1}\\{X_i = x_m\\}$.\n\n\n## Preamble\n\n\n::: {.cell execution_count=1}\n\n::: {.cell-output .cell-output-display}\n```\n<IPython.core.display.HTML object>\n```\n:::\n:::\n\n\nCreate a do-file for this problem set and include a preamble that sets the directory and opens the data. For example, \n\n::: {.cell execution_count=2}\n``` {.stata .cell-code}\nclear \n//or, to remove all stored values (including macros, matrices, scalars, etc.) \n*clear all\n\n* Replace $rootdir with the relevant path to on your local harddrive.\ncd \"$rootdir/problem-sets/ps-2\"\n\ncap log close\nlog using problem-set-2.txt, replace\n\nuse problem-set-2-data.dta\n```\n:::\n\n\n## Questions\n\n**1.**\tConsider the $E[ln(Wage_i)|Gender_i]$, where $Gender_i\\in\\{1 ``Male'', 2 ``Female''\\}$. Show that this CEF implies a linear model, \n\n$$\n\tln(Wage_i) = \\beta_1 + \\beta_2 D_{i2} + \\varepsilon_i \n$$\n \nWhat do the parameters $\\beta_1$ and $\\beta_2$ imply? \n\n**2.** Regress `lwage` (log wage) on just a set of binary indicators that will enable you to test the hypothesis that males and females are on average, paid the same wage, ceteris paribus. Test this hypothesis.\n\n**3.**\tExtend the specification in (2) that will enable you to test the hypothesis that there is no difference in the wages between the following gender-ethnicity groups. Begin by defining the following dummy variables: \n\n-\t`female_black` = `female`$\\times$`black`\n\n-\t`male_black` = (1-`female`)$\\times$`black`\n\n-\t`female_nonblack` = `female`$\\times$(1-`black`)\n\n-\t`male_nonblack` = (1-`female`)$\\times$(1-`black`)\n\nThen estimate the following regressions:\n\na. `lwage` on `female_black`, `female_nonblack`, `male_black`, `male_nonblack` (without a constant: option `nocons`)\n\nb.\t`lwage` on `female`, `black`, `female_black`\n\nc.\t`lwage` on `female_black`, `female_nonblack`, `male_black`\n\nFor some of these exercises you may be able to use Stata's factor notation. However, in some instances you will need to manually create the above dummy-variable interactions.\n\nIn each case, identify the base category and write down the parameters of the (implied) model in terms of conditional expectations.\n\n**4.**\tCompare the estimated coefficients with the sample average values for the lwage for the four subgroups. What do you see?\n\n**5.** In each of the above models, describe the null hypothesis you would test to evaluate whether there is a significant earnings difference between the earnings of black and non-black females. \n\n**6.**\tVery your solution to 4. by performing a test using the three set of regression output. You can use the post-estimation `test` command.\n\n**7.** In each case, test equality across all four gender-ethnicity groups. Again, you should get the same result. \n\n**8.** Try to replicate the F-statistic for one of the above models. Hint, the F-stat for these models is the same as that of the whole model. \n\n**9.** Estimate the following model:\n\n$$\n\tlwage = \\beta_1 + \\beta_2F + \\beta_3B + \\beta_4F\\times B + \\beta_5exp + \\beta_6exp^2 + \\beta_7educ + \\varepsilon\n$$\n\n-\tInterpret the estimated coeffiecients $\\hat{\\beta}_7$.\n\n-\tInterpret the effect of experience variable `exp`. Use the median level of experience to make your calculation.\n\n\n-\tA one unit incease in years of education is associated with an increase of 1.78% in expected wages, holding other regressors fixed. \n\n**10.**\tTheoretically, how would you test the following restrictions for the model below?\n\na.\t$\\beta_2 = \\beta_3$ \n\nb.\t$\\beta_4 + \\beta_5 = 1$\n\nc.\t$\\beta_2 = \\beta_3$ **and** $\\beta_4 + \\beta_5 = 1$\n\n$$\n\tY = \\beta_1 + \\beta_2X_2 + \\beta_3X_3 + \\beta_4X_4 + \\beta_5X_5 + \\varepsilon\n$$\n\n\n## Postamble\n\n::: {.cell execution_count=3}\n``` {.stata .cell-code}\nlog close\n```\n:::\n\n\n",
    "supporting": [
      "problem-set-2_files\\figure-pdf"
    ],
    "filters": []
  }
}