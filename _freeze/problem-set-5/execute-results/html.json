{
  "hash": "89b7a16180c91a9b9c0b518bb9773916",
  "result": {
    "engine": "jupyter",
    "markdown": "---\nformat:\n    html: default\n    pdf: default\njupyter: nbstata  \n---\n\n\n# Problem Set 5\n\nThis problem set will revise some of the material covered in Handout 5 on panel data models. This will require you to familiarize yourself with Stata's panel-data commands. \n\n::: {#43cef30d .cell execution_count=1}\n``` {.stata .cell-code}\nhelp xtset\nhelp xttab\nhelp xtreg\n```\n:::\n\n\nYou will be using a dataset that comes with Stata: psidextract.dta. The data is a correct version of the PSID sample in Cornwell and Rupert (1988), found in Baltagi and Khanti-Akom (1990). It includes a sample of 595 individuals observed for the years 1976-82. \n\n## Preamble\n\n::: {#0211816c .cell execution_count=2}\n\n::: {.cell-output .cell-output-display}\n```{=html}\n<style>div.jp-Notebook .datagrid-container {min-height: 448px; }</style>\n```\n:::\n:::\n\n\nCreate a do-file for this problem set and include a preamble that sets the directory and opens the data. For example, \n\n::: {#e8376aae .cell execution_count=3}\n``` {.stata .cell-code}\nclear \n//or, to remove all stored values (including macros, matrices, scalars, etc.) \n*clear all\n\n* Replace $rootdir with the relevant path to on your local harddrive.\ncd \"$rootdir/problem-sets/ps-5\"\n\ncap log close\nlog using problem-set-5-log.txt, replace\n\nuse problem-set-5-data.dta, clear\n```\n:::\n\n\n## Questions\n\n**1.** Set the unit identifier and time variable using `xtset`. Note, you can also use `tsset` for this task. This will allow you to use `xt` package commands.  \n\n**2.** Describe and summarise the variables in the dataset using the normal `describe` and `summarize` commands.\n\n**3.** Describe and summarise the variables in the dataset using the panel commands: `xtdescribe` and `xtsummarize`. Comment on the information provided. \n\n**4.** Use the command `xttab` and `xtrans, freq` to describe transitions over time in the variable `south`. \n\n**5.** Create the variable: `expsq=exper^2/1000`. Why would you scale the variable in this way?\n\n**6.** Estimate the following model using pooled OLS, between-group, feasible GLS, within-group, LSDV, and first-difference. For the first-difference estimator, you can define a first-difference in Stata using the time-series operator: `D.variable`.\n\n$$\n\\ln(Wage_{it}) = \\beta_1 + \\beta_2 Exper_{it} + \\beta_3 Exper^2_{it} + \\beta_4 Weeks_{it} + \\beta_5 Eduyrs_{it} + \\varepsilon_{it}\n$$\nWith each model, store the results using `estimates store`. For example, \n\n::: {#d15b69f7 .cell execution_count=4}\n``` {.stata .cell-code}\n* clear existing stored estimates\nest clear\n\n* Pooled OLS\nregress lwage exper expsq weeks ed\nest store OlS\n\n* alternatively, \neststo OLS: regress lwage exper expsq weeks ed\n```\n:::\n\n\n**7.** Using the formula from Handout 5, replicate the value of $\\theta$ reported above by the FGLS estimator. Note, you will need to use the stored values of $\\sigma^2_{\\varepsilon}$ and $\\sigma^2_{\\alpha}$.\n\n**8.** Make a table of the computed estimates. You can either use `estimates table` or `esttab`. The latter is part of the `estout` package, which you may need to install: `ssc install estout`. \n\n\n**9.** Perform a Hausman test comparing the results of the FLGS and WG estimators. You should use the `hausman` command, with the option `sigmamore`. Be sure to get the order of the estimates correct. What do you learn from the test?\n\n**10.** Estimate FGLS for the model below:\n\n$$\n\\begin{aligned}\n\\ln(Wage_{it}) =& \\beta_1 + \\beta_2 Exper_{it} + \\beta_3 Exper^2_{it} + \\beta_4 Weeks_{it} + \\beta_5 Eduyrs_{it} \\\\\n&+ \\gamma_2 \\overline{Exper}_{i} + \\gamma_3 \\overline{Exper^2}_{i} + \\gamma_4 \\overline{Weeks}_{i}+\\varepsilon_{it}\n\\end{aligned}\n$$\nYou will need to manually create the variables: $\\{\\overline{Exper}_{i}, \\overline{Exper^2}_{i},\\overline{Weeks}_{i}\\}$ - the individual-level averages of each variable. This is referred to as the Mundlack correction. Once you have estimated the model, repeat the Hausman test comparing these results with those of the WG estimator. What is the significance of the Mundlack correction?\n\n**11.** Export the results as a single CSV/Excel file. You can use `esttab` for .csv or `outreg2` for .xlsx.\n\n\n## Postamble\n\n::: {#75d0e2fc .cell execution_count=5}\n``` {.stata .cell-code}\nlog close\n```\n:::\n\n\n",
    "supporting": [
      "problem-set-5_files"
    ],
    "filters": [],
    "includes": {
      "include-in-header": [
        "<script src=\"https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js\" integrity=\"sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==\" crossorigin=\"anonymous\"></script>\n<script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js\" integrity=\"sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==\" crossorigin=\"anonymous\" data-relocate-top=\"true\"></script>\n<script type=\"application/javascript\">define('jquery', [],function() {return window.jQuery;})</script>\n"
      ]
    }
  }
}