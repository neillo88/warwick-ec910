{
  "hash": "89ed97d6bc32c8dcd6fadd659321c33d",
  "result": {
    "engine": "jupyter",
    "markdown": "---\nformat:\n    html: default\n    pdf: default\njupyter: nbstata  \n---\n\n\n\n\n# Problem Set 6 (SOLUTIONS)\n\nThe purpose of the first part of this problem set is to estimate, interpret the results, and compare the results across different binary dependent variable models. In the second part you will estimate and compare different specifications of an endogenous selection model.\n\nFirst part will be discussed in week 9 and the second part in week 10 of this term.\n\nThe data file for this exercise is on Moodle: `mus16data.dta`. It is a subset of the data used by P. Deb, M. Munkin and P.K. Trivedi (2006): \"Bayesian Analysis of Two-Part Model with Endogeneity\", Journal of Applied Econometrics, 21, 1081-1100. Data is for 2001 and comes from the Medical Expenditure Survey. Sample has 3,328 observations.\n\nThe main outcome variable of interest is ambulatory expenditure (`ambexp`) and the regressors are given below.\n\nSince the expenditure data is skewed, we will be using the logged expenditure variable as our dependent variable. You should read Cameron A.C. and Trivedi, P.K. Micro-econometrics using Stata to see the pros and cons regarding whether to log the dependent variable or not.\n\nNote, there is one individual who has an `expenditure`=1 and this will get coded as 0 when variable is logged. Since it is only one individual, we will ignore the problem by not doing anything. If there are many individuals like this, you will need to see whether you can say why this might be the case.\n\n**Dependent variable**\n\n-   `ambexp`: Ambulatory medical expenditures (excluding dental and outpatient mental). There are 526 individuals with zero expenditure. There is one individual who has expenditure=$1. I am going to assume that this individual did not spend any money.\n\n-   `lambexp`: ln(`ambexp`) given `ambexp` > 0 ; missing otherwise\n\n-   `dambexp`: 1 if `ambexp` > 0 and 0 otherwise (binary indicator)\n\n**Regressors**\n\n-   `ins`: health insurance measures, either PPO or HMO type insurance\n\n-   `totchr`: health status measures: number of chronic diseases\n\n-   `age`: age age in years/10\n\n-   `female`: 1 for females, zero otherwise\n\n-   `educ`: years of schooling of decision maker\n\n-   `blhisp`: either black or Hispanic\n\n-   `income`: income in USD/1000\n\n## Preamble\n\n::: {.cell execution_count=1}\n\n::: {.cell-output .cell-output-display}\n```\n<IPython.core.display.HTML object>\n```\n:::\n:::\n\n\nCreate a do-file for this problem set and include a preamble that sets the directory and opens the data. For example, \n\n::: {.cell execution_count=2}\n``` {.stata .cell-code}\nclear \n//or, to remove all stored values (including macros, matrices, scalars, etc.) \n*clear all\n\n* Replace $rootdir with the relevant path to on your local harddrive.\ncd \"$rootdir/problem-sets/ps-6\"\n\ncap log close\nlog using problem-set-6-log.txt, replace\n\nuse mus16data.dta, clear\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nC:\\Users\\neil_\\OneDrive - University of Warwick\\Documents\\EC910\\website\\warwick\n> -ec910\\problem-sets\\ps-6\n-------------------------------------------------------------------------------\n      name:  <unnamed>\n       log:  C:\\Users\\neil_\\OneDrive - University of Warwick\\Documents\\EC910\\we\n> bsite\\warwick-ec910\\problem-sets\\ps-6\\problem-set-6-log.txt\n  log type:  smcl\n opened on:  19 Nov 2024, 17:41:06\n```\n:::\n:::\n\n\n## Questions\n### Part 1\n\n**1.1.** Obtain and comment on the descriptive statistics for ambexp, lambexp, age, female, educ, blhisp, totchr, ins, income.\n\n::: {.cell execution_count=3}\n``` {.stata .cell-code}\nsu dambexp ambexp lambexp age female educ blhisp totchr ins income\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n    Variable |        Obs        Mean    Std. dev.       Min        Max\n-------------+---------------------------------------------------------\n     dambexp |      3,328    .8419471    .3648454          0          1\n      ambexp |      3,328    1386.519    2530.406          0      49960\n     lambexp |      2,802    6.555066     1.41073          0   10.81898\n         age |      3,328    4.056881    1.121212        2.1        6.4\n      female |      3,328    .5084135    .5000043          0          1\n-------------+---------------------------------------------------------\n        educ |      3,328    13.40565    2.574199          0         17\n      blhisp |      3,328    .3085938    .4619824          0          1\n      totchr |      3,328    .4831731    .7720426          0          5\n         ins |      3,328    .3650841    .4815261          0          1\n      income |      3,328    36.80485    26.70121     -90.05    237.301\n```\n:::\n:::\n\n\n**1.2.** Estimate a LP, Probit and a Logit model to explain dambexp. Store the $\\beta$ coefficients and report them in a table. \n\n::: {.cell execution_count=4}\n``` {.stata .cell-code}\nglobal xlist age i.female educ i.blhisp totchr i.ins income  //Define regressor list $xlist\nbys dambexp: su $xlist   \n\n** LPM    \neststo LPM: reg dambexp $xlist, robust // heterosk needs to be corrected\n\n** probit\neststo probit: probit dambexp $xlist\n\n** logit\neststo logit: logit dambexp $xlist\n\nesttab LPM probit logit, se scalar(N r2 ll) mtitle(\"LPM\" \"Probit\" \"Logit\") title(Estimated Coefficients)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n-------------------------------------------------------------------------------\n-> dambexp = 0\n\n    Variable |        Obs        Mean    Std. dev.       Min        Max\n-------------+---------------------------------------------------------\n         age |        526    3.695627    1.076467        2.1        6.4\n             |\n      female |\n          0  |        526    .7338403    .4423695          0          1\n          1  |        526    .2661597    .4423695          0          1\n             |\n        educ |        526    12.48859    2.697241          0         17\n             |\n      blhisp |\n          0  |        526    .5171103    .5001828          0          1\n-------------+---------------------------------------------------------\n          1  |        526    .4828897    .5001828          0          1\n             |\n      totchr |        526    .0912548    .3074311          0          2\n             |\n         ins |\n          0  |        526    .6977186    .4596837          0          1\n          1  |        526    .3022814    .4596837          0          1\n             |\n      income |        526    31.63409    23.17116          0     166.78\n\n-------------------------------------------------------------------------------\n-> dambexp = 1\n\n    Variable |        Obs        Mean    Std. dev.       Min        Max\n-------------+---------------------------------------------------------\n         age |      2,802    4.124697    1.116641        2.1        6.4\n             |\n      female |\n          0  |      2,802    .4461099    .4971761          0          1\n          1  |      2,802    .5538901    .4971761          0          1\n             |\n        educ |      2,802     13.5778    2.513906          0         17\n             |\n      blhisp |\n          0  |      2,802    .7241256    .4470336          0          1\n-------------+---------------------------------------------------------\n          1  |      2,802    .2758744    .4470336          0          1\n             |\n      totchr |      2,802    .5567452     .809943          0          5\n             |\n         ins |\n          0  |      2,802    .6231263    .4846893          0          1\n          1  |      2,802    .3768737    .4846893          0          1\n             |\n      income |      2,802    37.77552    27.20742     -90.05    237.301\n\n\nLinear regression                               Number of obs     =      3,328\n                                                F(7, 3320)        =      69.43\n                                                Prob > F          =     0.0000\n                                                R-squared         =     0.1276\n                                                Root MSE          =     .34114\n\n------------------------------------------------------------------------------\n             |               Robust\n     dambexp | Coefficient  std. err.      t    P>|t|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0216413   .0056048     3.86   0.000     .0106521    .0326304\n    1.female |   .1394928   .0119061    11.72   0.000     .1161487    .1628368\n        educ |   .0143544   .0025774     5.57   0.000      .009301    .0194078\n    1.blhisp |  -.0889738   .0143088    -6.22   0.000    -.1170288   -.0609188\n      totchr |   .0830088   .0057913    14.33   0.000     .0716539    .0943637\n       1.ins |   .0364663   .0119311     3.06   0.002     .0130733    .0598592\n      income |    .000443   .0002215     2.00   0.046     8.70e-06    .0008774\n       _cons |   .4485313   .0430509    10.42   0.000     .3641224    .5329402\n------------------------------------------------------------------------------\n\nIteration 0:  Log likelihood = -1452.4289  \nIteration 1:  Log likelihood = -1218.0426  \nIteration 2:  Log likelihood = -1195.6199  \nIteration 3:  Log likelihood = -1195.5158  \nIteration 4:  Log likelihood = -1195.5158  \n\nProbit regression                                       Number of obs =  3,328\n                                                        LR chi2(7)    = 513.83\n                                                        Prob > chi2   = 0.0000\nLog likelihood = -1195.5158                             Pseudo R2     = 0.1769\n\n------------------------------------------------------------------------------\n     dambexp | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0868152   .0274556     3.16   0.002     .0330032    .1406272\n    1.female |   .6635053   .0609648    10.88   0.000     .5440164    .7829941\n        educ |    .061884    .012039     5.14   0.000      .038288    .0854801\n    1.blhisp |  -.3657835   .0619095    -5.91   0.000    -.4871239   -.2444432\n      totchr |   .7957496   .0712174    11.17   0.000      .656166    .9353332\n       1.ins |    .169107   .0629296     2.69   0.007     .0457673    .2924467\n      income |   .0026773   .0013105     2.04   0.041     .0001088    .0052458\n       _cons |  -.6686471   .1941247    -3.44   0.001    -1.049125   -.2881698\n------------------------------------------------------------------------------\n\nIteration 0:  Log likelihood = -1452.4289  \nIteration 1:  Log likelihood =  -1238.914  \nIteration 2:  Log likelihood = -1194.7039  \nIteration 3:  Log likelihood = -1192.8189  \nIteration 4:  Log likelihood = -1192.8089  \nIteration 5:  Log likelihood = -1192.8089  \n\nLogistic regression                                     Number of obs =  3,328\n                                                        LR chi2(7)    = 519.24\n                                                        Prob > chi2   = 0.0000\nLog likelihood = -1192.8089                             Pseudo R2     = 0.1787\n\n------------------------------------------------------------------------------\n     dambexp | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .1618629   .0496641     3.26   0.001     .0645229    .2592028\n    1.female |   1.226724   .1130182    10.85   0.000     1.005212    1.448235\n        educ |   .1080498   .0210874     5.12   0.000     .0667192    .1493804\n    1.blhisp |  -.6666381   .1093362    -6.10   0.000    -.8809332    -.452343\n      totchr |   1.554664   .1499606    10.37   0.000     1.260746    1.848581\n       1.ins |    .296996   .1133154     2.62   0.009     .0749019    .5190901\n      income |     .00462   .0024332     1.90   0.058     -.000149     .009389\n       _cons |   -1.26832   .3407805    -3.72   0.000    -1.936237    -.600402\n------------------------------------------------------------------------------\n\nEstimated Coefficients\n------------------------------------------------------------\n                      (1)             (2)             (3)   \n                      LPM          Probit           Logit   \n------------------------------------------------------------\nmain                                                        \nage                0.0216***       0.0868**         0.162** \n                (0.00560)        (0.0275)        (0.0497)   \n\n0.female                0               0               0   \n                      (.)             (.)             (.)   \n\n1.female            0.139***        0.664***        1.227***\n                 (0.0119)        (0.0610)         (0.113)   \n\neduc               0.0144***       0.0619***        0.108***\n                (0.00258)        (0.0120)        (0.0211)   \n\n0.blhisp                0               0               0   \n                      (.)             (.)             (.)   \n\n1.blhisp          -0.0890***       -0.366***       -0.667***\n                 (0.0143)        (0.0619)         (0.109)   \n\ntotchr             0.0830***        0.796***        1.555***\n                (0.00579)        (0.0712)         (0.150)   \n\n0.ins                   0               0               0   \n                      (.)             (.)             (.)   \n\n1.ins              0.0365**         0.169**         0.297** \n                 (0.0119)        (0.0629)         (0.113)   \n\nincome           0.000443*        0.00268*        0.00462   \n               (0.000222)       (0.00131)       (0.00243)   \n\n_cons               0.449***       -0.669***       -1.268***\n                 (0.0431)         (0.194)         (0.341)   \n------------------------------------------------------------\nN                    3328            3328            3328   \nr2                  0.128                                   \nll                -1139.1         -1195.5         -1192.8   \n------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n```\n:::\n:::\n\n\n**1.3.** Estimate the Marginal Effect at the Mean for each model, and report them in a table. You will want to use the `estpost margins` post-estimation command, with the relevant option for MEM. Pay special attention to the treatment of discrete regressors. Hint: check to see any differences in the estimated MEs based on whether you use factor notation; for example, `i.female` vs `female`. \n\n::: {.cell execution_count=5}\n``` {.stata .cell-code}\nest clear\n\n** LPM   \nqui reg dambexp $xlist, robust \nestpost margins, dydx(*) atmean\nest store LPM\n\n** probit\nqui probit dambexp $xlist\nestpost margins, dydx(*) atmean\nest store probit\n\n** logit\nqui logit dambexp $xlist\nestpost margins, dydx(*) atmean\nest store logit\n\nesttab LPM probit logit, se scalar(N r2 ll) mtitle(\"LPM\" \"Probit\" \"Logit\") title(Marginal Effects at the Mean)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nConditional marginal effects                             Number of obs = 3,328\nModel VCE: Robust\n\nExpression: Linear prediction, predict()\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\nAt: age      = 4.056881 (mean)\n    0.female = .4915865 (mean)\n    1.female = .5084135 (mean)\n    educ     = 13.40565 (mean)\n    0.blhisp = .6914063 (mean)\n    1.blhisp = .3085938 (mean)\n    totchr   = .4831731 (mean)\n    0.ins    = .6349159 (mean)\n    1.ins    = .3650841 (mean)\n    income   = 36.80485 (mean)\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      t    P>|t|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0216413   .0056048     3.86   0.000     .0106521    .0326304\n    1.female |   .1394928   .0119061    11.72   0.000     .1161487    .1628368\n        educ |   .0143544   .0025774     5.57   0.000      .009301    .0194078\n    1.blhisp |  -.0889738   .0143088    -6.22   0.000    -.1170288   -.0609188\n      totchr |   .0830088   .0057913    14.33   0.000     .0716539    .0943637\n       1.ins |   .0364663   .0119311     3.06   0.002     .0130733    .0598592\n      income |    .000443   .0002215     2.00   0.046     8.70e-06    .0008774\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n\nConditional marginal effects                             Number of obs = 3,328\nModel VCE: OIM\n\nExpression: Pr(dambexp), predict()\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\nAt: age      = 4.056881 (mean)\n    0.female = .4915865 (mean)\n    1.female = .5084135 (mean)\n    educ     = 13.40565 (mean)\n    0.blhisp = .6914063 (mean)\n    1.blhisp = .3085938 (mean)\n    totchr   = .4831731 (mean)\n    0.ins    = .6349159 (mean)\n    1.ins    = .3650841 (mean)\n    income   = 36.80485 (mean)\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0152201    .004837     3.15   0.002     .0057396    .0247005\n    1.female |   .1184629   .0112862    10.50   0.000     .0963423    .1405835\n        educ |   .0108492   .0021305     5.09   0.000     .0066736    .0150249\n    1.blhisp |  -.0701607   .0130287    -5.39   0.000    -.0956964   -.0446249\n      totchr |   .1395073   .0102098    13.66   0.000     .1194966    .1595181\n       1.ins |   .0288089   .0104412     2.76   0.006     .0083445    .0492733\n      income |   .0004694   .0002295     2.05   0.041     .0000195    .0009192\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n\nConditional marginal effects                             Number of obs = 3,328\nModel VCE: OIM\n\nExpression: Pr(dambexp), predict()\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\nAt: age      = 4.056881 (mean)\n    0.female = .4915865 (mean)\n    1.female = .5084135 (mean)\n    educ     = 13.40565 (mean)\n    0.blhisp = .6914063 (mean)\n    1.blhisp = .3085938 (mean)\n    totchr   = .4831731 (mean)\n    0.ins    = .6349159 (mean)\n    1.ins    = .3650841 (mean)\n    income   = 36.80485 (mean)\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0135771   .0042044     3.23   0.001     .0053365    .0218176\n    1.female |   .1068865   .0107295     9.96   0.000      .085857    .1279159\n        educ |   .0090632   .0018074     5.01   0.000     .0055208    .0126056\n    1.blhisp |   -.062462   .0116115    -5.38   0.000    -.0852201    -.039704\n      totchr |   .1304052   .0093686    13.92   0.000      .112043    .1487674\n       1.ins |   .0241537   .0089994     2.68   0.007     .0065151    .0417922\n      income |   .0003875   .0002043     1.90   0.058    -.0000128    .0007879\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n\nMarginal Effects at the Mean\n------------------------------------------------------------\n                      (1)             (2)             (3)   \n                      LPM          Probit           Logit   \n------------------------------------------------------------\nage                0.0216***       0.0152**        0.0136** \n                (0.00560)       (0.00484)       (0.00420)   \n\n0.female                0               0               0   \n                      (.)             (.)             (.)   \n\n1.female            0.139***        0.118***        0.107***\n                 (0.0119)        (0.0113)        (0.0107)   \n\neduc               0.0144***       0.0108***      0.00906***\n                (0.00258)       (0.00213)       (0.00181)   \n\n0.blhisp                0               0               0   \n                      (.)             (.)             (.)   \n\n1.blhisp          -0.0890***      -0.0702***      -0.0625***\n                 (0.0143)        (0.0130)        (0.0116)   \n\ntotchr             0.0830***        0.140***        0.130***\n                (0.00579)        (0.0102)       (0.00937)   \n\n0.ins                   0               0               0   \n                      (.)             (.)             (.)   \n\n1.ins              0.0365**        0.0288**        0.0242** \n                 (0.0119)        (0.0104)       (0.00900)   \n\nincome           0.000443*       0.000469*       0.000388   \n               (0.000222)      (0.000230)      (0.000204)   \n------------------------------------------------------------\nN                    3328            3328            3328   \nr2                  0.128                                   \nll                -1139.1         -1195.5         -1192.8   \n------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n```\n:::\n:::\n\n\n**1.4.** Estimate the Average Marginal Effect at the Mean for each model, and report them in a table.You will want to use the `estpost margins` post-estimation command, with the relevant option for AME.  \n\n::: {.cell execution_count=6}\n``` {.stata .cell-code}\nest clear\n\n** LPM    \nqui reg dambexp $xlist, robust \nestpost margins, dydx(*)\nest store LPM\n\n** probit\nqui probit dambexp $xlist\nestpost margins, dydx(*)\nest store probit\n\n** logit\nqui logit dambexp $xlist\nestpost margins, dydx(*)\nest store logit\n\nesttab LPM probit logit, se scalar(N r2 ll) mtitle(\"LPM\" \"Probit\" \"Logit\") title(Average Marginal Effects)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nAverage marginal effects                                 Number of obs = 3,328\nModel VCE: Robust\n\nExpression: Linear prediction, predict()\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      t    P>|t|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0216413   .0056048     3.86   0.000     .0106521    .0326304\n    1.female |   .1394928   .0119061    11.72   0.000     .1161487    .1628368\n        educ |   .0143544   .0025774     5.57   0.000      .009301    .0194078\n    1.blhisp |  -.0889738   .0143088    -6.22   0.000    -.1170288   -.0609188\n      totchr |   .0830088   .0057913    14.33   0.000     .0716539    .0943637\n       1.ins |   .0364663   .0119311     3.06   0.002     .0130733    .0598592\n      income |    .000443   .0002215     2.00   0.046     8.70e-06    .0008774\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n\nAverage marginal effects                                 Number of obs = 3,328\nModel VCE: OIM\n\nExpression: Pr(dambexp), predict()\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0173895   .0054832     3.17   0.002     .0066426    .0281365\n    1.female |    .132906   .0118133    11.25   0.000     .1097524    .1560596\n        educ |   .0123957   .0023862     5.19   0.000     .0077189    .0170725\n    1.blhisp |  -.0777517   .0137954    -5.64   0.000    -.1047901   -.0507133\n      totchr |   .1593929   .0139062    11.46   0.000     .1321371    .1866486\n       1.ins |    .033324   .0121638     2.74   0.006     .0094834    .0571646\n      income |   .0005363   .0002621     2.05   0.041     .0000225    .0010501\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n\nAverage marginal effects                                 Number of obs = 3,328\nModel VCE: OIM\n\nExpression: Pr(dambexp), predict()\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0181007   .0055261     3.28   0.001     .0072697    .0289317\n    1.female |   .1357958   .0117423    11.56   0.000     .1127813    .1588102\n        educ |   .0120829   .0023248     5.20   0.000     .0075264    .0166394\n    1.blhisp |  -.0795676   .0136638    -5.82   0.000    -.1063481   -.0527871\n      totchr |   .1738536   .0164518    10.57   0.000     .1416087    .2060985\n       1.ins |   .0326182   .0121752     2.68   0.007     .0087552    .0564812\n      income |   .0005166   .0002718     1.90   0.057     -.000016    .0010493\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n\nAverage Marginal Effects\n------------------------------------------------------------\n                      (1)             (2)             (3)   \n                      LPM          Probit           Logit   \n------------------------------------------------------------\nage                0.0216***       0.0174**        0.0181** \n                (0.00560)       (0.00548)       (0.00553)   \n\n0.female                0               0               0   \n                      (.)             (.)             (.)   \n\n1.female            0.139***        0.133***        0.136***\n                 (0.0119)        (0.0118)        (0.0117)   \n\neduc               0.0144***       0.0124***       0.0121***\n                (0.00258)       (0.00239)       (0.00232)   \n\n0.blhisp                0               0               0   \n                      (.)             (.)             (.)   \n\n1.blhisp          -0.0890***      -0.0778***      -0.0796***\n                 (0.0143)        (0.0138)        (0.0137)   \n\ntotchr             0.0830***        0.159***        0.174***\n                (0.00579)        (0.0139)        (0.0165)   \n\n0.ins                   0               0               0   \n                      (.)             (.)             (.)   \n\n1.ins              0.0365**        0.0333**        0.0326** \n                 (0.0119)        (0.0122)        (0.0122)   \n\nincome           0.000443*       0.000536*       0.000517   \n               (0.000222)      (0.000262)      (0.000272)   \n------------------------------------------------------------\nN                    3328            3328            3328   \nr2                  0.128                                   \nll                -1139.1         -1195.5         -1192.8   \n------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n```\n:::\n:::\n\n\n**1.5.** Check to see how well the prodbit model predicts the outcome using the `estat classification` post-estimation command.\n\n::: {.cell execution_count=7}\n``` {.stata .cell-code}\nqui probit dambexp age i.female educ i.blhisp totchr i.ins income\nestat classification\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nProbit model for dambexp\n\n              -------- True --------\nClassified |         D            ~D  |      Total\n-----------+--------------------------+-----------\n     +     |      2768           469  |       3237\n     -     |        34            57  |         91\n-----------+--------------------------+-----------\n   Total   |      2802           526  |       3328\n\nClassified + if predicted Pr(D) >= .5\nTrue D defined as dambexp != 0\n--------------------------------------------------\nSensitivity                     Pr( +| D)   98.79%\nSpecificity                     Pr( -|~D)   10.84%\nPositive predictive value       Pr( D| +)   85.51%\nNegative predictive value       Pr(~D| -)   62.64%\n--------------------------------------------------\nFalse + rate for true ~D        Pr( +|~D)   89.16%\nFalse - rate for true D         Pr( -| D)    1.21%\nFalse + rate for classified +   Pr(~D| +)   14.49%\nFalse - rate for classified -   Pr( D| -)   37.36%\n--------------------------------------------------\nCorrectly classified                        84.89%\n--------------------------------------------------\n```\n:::\n:::\n\n\n**1.6.** Construct and interpret the LR test for the omission of income in the probit model. Do this in two ways: (1) using the post estimation `lrtest`; (2) manually recreate (1)'s results (both test-statistic and p-value).\n\n::: {.cell execution_count=8}\n``` {.stata .cell-code}\nest clear\n\n** Remove income from xlist\nglobal xlist age i.female educ i.blhisp totchr i.ins \n\neststo modU: qui probit dambexp $xlist income\nscalar logl_U = e(ll)\n\neststo modR: qui probit dambexp $xlist\nscalar logl_R = e(ll)\n\nlrtest modU modR\n\n** Replicate\nscalar stat = 2 * (logl_U - logl_R) \nscalar pval = chi2tail(1,stat)\nscalar list\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nLikelihood-ratio test\nAssumption: modR nested within modU\n\n LR chi2(1) =   4.30\nProb > chi2 = 0.0382\n      pval =  .03817363\n      stat =   4.297269\n    logl_R = -1197.6644\n    logl_U = -1195.5158\n```\n:::\n:::\n\n\n### Part 2\n\nEstimate the following models for `lambexp` treating the selection into non-zero `lambexp` value as endogenous using, both Heckman 2-step method and also MLE.\n\nIn the main data `lambexp` is missing for values of `ambexp`=0. Before proceeding, \n\n::: {.cell execution_count=9}\n``` {.stata .cell-code}\nreplace lambexp = 0 if ambexp==0\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n(526 real changes made)\n```\n:::\n:::\n\n\nThis will correction will also treat observations with `ambexp=1` as equivalent to =0; however, this is only a single observation.\n\n::: {.cell execution_count=10}\n``` {.stata .cell-code}\n** Remove income from xlist\nglobal xlist age i.female educ i.blhisp totchr i.ins\n```\n:::\n\n\n**2.1.** Estimate the Heckman 2-step estimator and store the results. In addition, store the Mills ratio as a separate variable. Use `income` as the excluded variable. This means that `income` appears in the selection equation, but NOT the main equation. \n\n::: {.cell execution_count=11}\n``` {.stata .cell-code}\neststo heck_2sW: heckman lambexp $xlist, select(dambexp = $xlist income) twostep mills(mills_a)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nHeckman selection model -- two-step estimates   Number of obs     =      3,328\n(regression model with sample selection)              Selected    =      2,802\n                                                      Nonselected =        526\n\n                                                Wald chi2(6)      =     193.43\n                                                Prob > chi2       =     0.0000\n\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nlambexp      |\n         age |   .2024668   .0242202     8.36   0.000     .1549961    .2499374\n    1.female |   .2921341   .0725756     4.03   0.000     .1498886    .4343796\n        educ |   .0123889   .0115682     1.07   0.284    -.0102844    .0350622\n    1.blhisp |  -.1828659   .0653449    -2.80   0.005    -.3109396   -.0547922\n      totchr |   .5006332   .0485548    10.31   0.000     .4054675    .5957988\n       1.ins |  -.0465097   .0529742    -0.88   0.380    -.1503373    .0573179\n       _cons |   5.288927    .288522    18.33   0.000     4.723435     5.85442\n-------------+----------------------------------------------------------------\ndambexp      |\n         age |   .0868152   .0274556     3.16   0.002     .0330032    .1406272\n    1.female |   .6635053   .0609648    10.88   0.000     .5440165    .7829941\n        educ |    .061884    .012039     5.14   0.000      .038288    .0854801\n    1.blhisp |  -.3657835   .0619095    -5.91   0.000    -.4871239   -.2444432\n      totchr |   .7957496   .0712174    11.17   0.000      .656166    .9353332\n       1.ins |    .169107   .0629296     2.69   0.007     .0457673    .2924467\n      income |   .0026773   .0013105     2.04   0.041     .0001088    .0052458\n       _cons |  -.6686471   .1941247    -3.44   0.001    -1.049125   -.2881698\n-------------+----------------------------------------------------------------\n/mills       |\n      lambda |  -.4637133   .2825997    -1.64   0.101    -1.017598     .090172\n-------------+----------------------------------------------------------------\n         rho |   -0.35907\n       sigma |  1.2914258\n------------------------------------------------------------------------------\n```\n:::\n:::\n\n\n**2.2.** Replicate these results by applying the following steps: (1) estimate the selection equation using a probit model; (2) create the mills ratio; (3) `compare` your mills ratio with the one stored above; (4) estimate the main equation, including the mills ratio.\n\n::: {.cell execution_count=12}\n``` {.stata .cell-code}\nprobit dambexp $xlist income\npredict index, xb\ngen mills = normalden(index)/normal(index)\ncompare mills mills_a\nreg lambexp $xlist mills\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nIteration 0:  Log likelihood = -1452.4289  \nIteration 1:  Log likelihood = -1218.0426  \nIteration 2:  Log likelihood = -1195.6199  \nIteration 3:  Log likelihood = -1195.5158  \nIteration 4:  Log likelihood = -1195.5158  \n\nProbit regression                                       Number of obs =  3,328\n                                                        LR chi2(7)    = 513.83\n                                                        Prob > chi2   = 0.0000\nLog likelihood = -1195.5158                             Pseudo R2     = 0.1769\n\n------------------------------------------------------------------------------\n     dambexp | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0868152   .0274556     3.16   0.002     .0330032    .1406272\n    1.female |   .6635053   .0609648    10.88   0.000     .5440164    .7829941\n        educ |    .061884    .012039     5.14   0.000      .038288    .0854801\n    1.blhisp |  -.3657835   .0619095    -5.91   0.000    -.4871239   -.2444432\n      totchr |   .7957496   .0712174    11.17   0.000      .656166    .9353332\n       1.ins |    .169107   .0629296     2.69   0.007     .0457673    .2924467\n      income |   .0026773   .0013105     2.04   0.041     .0001088    .0052458\n       _cons |  -.6686471   .1941247    -3.44   0.001    -1.049125   -.2881698\n------------------------------------------------------------------------------\n\n                                        ---------- Difference ----------\n                            Count       Minimum      Average     Maximum\n------------------------------------------------------------------------\nmills<mills_a                1660     -5.02e-08    -8.91e-09   -1.75e-14\nmills>mills_a                1668      7.75e-15     8.64e-09    5.45e-08\n                       ----------\nJointly defined              3328     -5.02e-08    -1.10e-10    5.45e-08\n                       ----------\nTotal                        3328\n\n      Source |       SS           df       MS      Number of obs   =     3,328\n-------------+----------------------------------   F(7, 3320)      =    164.14\n       Model |  6325.70678         7  903.672398   Prob > F        =    0.0000\n    Residual |  18278.1125     3,320  5.50545557   R-squared       =    0.2571\n-------------+----------------------------------   Adj R-squared   =    0.2555\n       Total |  24603.8193     3,327  7.39519666   Root MSE        =    2.3464\n\n------------------------------------------------------------------------------\n     lambexp | Coefficient  Std. err.      t    P>|t|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .1628716   .0410937     3.96   0.000     .0823001    .2434431\n    1.female |   .1898127   .1257893     1.51   0.131    -.0568198    .4364451\n        educ |  -.0016555   .0199775    -0.08   0.934    -.0408251     .037514\n    1.blhisp |  -.1086689   .1107824    -0.98   0.327    -.3258776    .1085397\n      totchr |   .4202052   .0839337     5.01   0.000     .2556382    .5847723\n       1.ins |  -.0686172   .0899672    -0.76   0.446    -.2450141    .1077796\n       mills |  -4.592193   .4582359   -10.02   0.000    -5.490646   -3.693739\n       _cons |   5.904903   .5004624    11.80   0.000     4.923657    6.886149\n------------------------------------------------------------------------------\n```\n:::\n:::\n\n\n**2.3** Estimate the marginal effects of the selection equation. You can do this using the `margins` command, with `predict()` option `psel`. This should correspond to a probit model estimation above. \n\n::: {.cell execution_count=13}\n``` {.stata .cell-code}\nqui heckman lambexp $xlist, select(dambexp = $xlist income) twostep\nmargins, dydx(*) predict(psel)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nAverage marginal effects                                 Number of obs = 3,328\nModel VCE: Conventional\n\nExpression: Pr(dambexp), predict(psel)\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0173895   .0054832     3.17   0.002     .0066426    .0281365\n    1.female |    .132906   .0118133    11.25   0.000     .1097524    .1560596\n        educ |   .0123957   .0023862     5.19   0.000     .0077189    .0170725\n    1.blhisp |  -.0777517   .0137954    -5.64   0.000    -.1047901   -.0507133\n      totchr |   .1593929   .0139062    11.46   0.000     .1321371    .1866486\n       1.ins |    .033324   .0121638     2.74   0.006     .0094834    .0571646\n      income |   .0005363   .0002621     2.05   0.041     .0000225    .0010501\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n```\n:::\n:::\n\n\n**2.4.** Estimate the Maximum Likelihood version of the Heckmann correction (with an excluded variable) and store the results. \n\n::: {.cell execution_count=14}\n``` {.stata .cell-code}\neststo heck_mlW: heckman lambexp $xlist, select(dambexp = $xlist income) nolog mills(mills_a_mle)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nHeckman selection model                         Number of obs     =      3,328\n(regression model with sample selection)              Selected    =      2,802\n                                                      Nonselected =        526\n\n                                                Wald chi2(6)      =     288.88\nLog likelihood = -5836.219                      Prob > chi2       =     0.0000\n\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nlambexp      |\n         age |   .2119749   .0230072     9.21   0.000     .1668816    .2570682\n    1.female |   .3481441   .0601142     5.79   0.000     .2303223    .4659658\n        educ |    .018716   .0105473     1.77   0.076    -.0019563    .0393883\n    1.blhisp |  -.2185714   .0596687    -3.66   0.000    -.3355199    -.101623\n      totchr |     .53992   .0393324    13.73   0.000     .4628299      .61701\n       1.ins |  -.0299871   .0510882    -0.59   0.557    -.1301182    .0701439\n       _cons |   5.044056   .2281259    22.11   0.000     4.596938    5.491175\n-------------+----------------------------------------------------------------\ndambexp      |\n         age |   .0879359    .027421     3.21   0.001     .0341917      .14168\n    1.female |   .6626649   .0609384    10.87   0.000     .5432278    .7821021\n        educ |   .0619485   .0120295     5.15   0.000     .0383711    .0855258\n    1.blhisp |  -.3639377   .0618734    -5.88   0.000    -.4852073   -.2426682\n      totchr |   .7969518   .0711306    11.20   0.000     .6575383    .9363653\n       1.ins |   .1701367   .0628711     2.71   0.007     .0469117    .2933618\n      income |   .0027078   .0013168     2.06   0.040      .000127    .0052886\n       _cons |  -.6760546   .1940288    -3.48   0.000    -1.056344   -.2957652\n-------------+----------------------------------------------------------------\n     /athrho |  -.1313456   .1496292    -0.88   0.380    -.4246134    .1619222\n    /lnsigma |   .2398173   .0144598    16.59   0.000     .2114767     .268158\n-------------+----------------------------------------------------------------\n         rho |  -.1305955   .1470772                     -.4008098    .1605217\n       sigma |   1.271017   .0183786                      1.235501    1.307554\n      lambda |  -.1659891   .1878698                     -.5342072    .2022291\n------------------------------------------------------------------------------\nLR test of indep. eqns. (rho = 0): chi2(1) = 0.91         Prob > chi2 = 0.3406\n```\n:::\n:::\n\n\n**2.5** Compute the marginal effects of each regressor for: (1) probability of selection; (2) the expected value of the outcome; and (3) the expected value of the outcome, conditional on selection. You will need to use the post-estimation command `margins, dydx(*) predict()` with predict options: `psel`, `yexpected`, and `ycond`. \n\n::: {.cell execution_count=15}\n``` {.stata .cell-code}\nqui heckman lambexp $xlist, select(dambexp = $xlist income) nolog\n\nmargins, dydx(*) predict(psel) \nmargins, dydx(*) predict(yexpected) \nmargins, dydx(*) predict(ycond) \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nAverage marginal effects                                 Number of obs = 3,328\nModel VCE: OIM\n\nExpression: Pr(dambexp), predict(psel)\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .0176149   .0054761     3.22   0.001      .006882    .0283479\n    1.female |   .1327517   .0118078    11.24   0.000     .1096089    .1558945\n        educ |   .0124093   .0023845     5.20   0.000     .0077357    .0170828\n    1.blhisp |  -.0773377   .0137795    -5.61   0.000    -.1043449   -.0503305\n      totchr |    .159642    .013898    11.49   0.000     .1324024    .1868817\n       1.ins |    .033526   .0121515     2.76   0.006     .0097095    .0573425\n      income |   .0005424   .0002634     2.06   0.039     .0000262    .0010586\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n\nAverage marginal effects                                 Number of obs = 3,328\nModel VCE: OIM\n\nExpression: E(lambexp*|Pr(dambexp)), predict(yexpected)\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .2897346   .0381846     7.59   0.000     .2148942     .364575\n    1.female |    1.14081   .0832165    13.71   0.000     .9777089    1.303911\n        educ |   .0941877   .0167238     5.63   0.000     .0614096    .1269658\n    1.blhisp |  -.6692709    .095073    -7.04   0.000    -.8556106   -.4829312\n      totchr |   1.463455   .0890935    16.43   0.000     1.288834    1.638075\n       1.ins |   .1863924   .0856166     2.18   0.029     .0185871    .3541978\n      income |   .0034285   .0016722     2.05   0.040     .0001511    .0067059\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n\nAverage marginal effects                                 Number of obs = 3,328\nModel VCE: OIM\n\nExpression: E(lambexp|Zg>0), predict(ycond)\ndy/dx wrt:  age 1.female educ 1.blhisp totchr 1.ins income\n\n------------------------------------------------------------------------------\n             |            Delta-method\n             |      dy/dx   std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\n         age |   .2165793   .0222037     9.75   0.000     .1730609    .2600977\n    1.female |   .3826391   .0486389     7.87   0.000     .2873087    .4779695\n        educ |   .0219597   .0097532     2.25   0.024     .0028438    .0410755\n    1.blhisp |  -.2385954   .0551014    -4.33   0.000    -.3465921   -.1305986\n      totchr |   .5816493   .0379133    15.34   0.000     .5073406    .6559579\n       1.ins |  -.0212273   .0499484    -0.42   0.671    -.1191243    .0766697\n      income |   .0001418   .0001762     0.80   0.421    -.0002036    .0004872\n------------------------------------------------------------------------------\nNote: dy/dx for factor levels is the discrete change from the base level.\n```\n:::\n:::\n\n\n**2.6.** Now re-estimate the two-step and MLE approach without an excluded variable, storing the results each time. This means that the same set of regressors enter both equations. i.e. include income in the outcome equation.  \n\n::: {.cell execution_count=16}\n``` {.stata .cell-code}\nglobal xlist age i.female educ i.blhisp totchr i.ins income\n\neststo heck_2sWO: heckman lambexp $xlist, select(dambexp = $xlist) twostep mills(mills_b)\n\neststo heck_mlWO: heckman lambexp $xlist, select(dambexp = $xlist) nolog mills(mills_b_mle)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nHeckman selection model -- two-step estimates   Number of obs     =      3,328\n(regression model with sample selection)              Selected    =      2,802\n                                                      Nonselected =        526\n\n                                                Wald chi2(7)      =     192.92\n                                                Prob > chi2       =     0.0000\n\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nlambexp      |\n         age |   .2043022   .0244086     8.37   0.000     .1564622    .2521422\n    1.female |   .2786877   .0750154     3.72   0.000     .1316602    .4257151\n        educ |   .0141631   .0118462     1.20   0.232    -.0090551    .0373812\n    1.blhisp |  -.1797416   .0656337    -2.74   0.006    -.3083812    -.051102\n      totchr |   .4938391    .049539     9.97   0.000     .3967445    .5909337\n       1.ins |  -.0461181    .053113    -0.87   0.385    -.1502176    .0579815\n      income |  -.0007456   .0010158    -0.73   0.463    -.0027367    .0012454\n       _cons |   5.306311   .2901551    18.29   0.000     4.737617    5.875004\n-------------+----------------------------------------------------------------\ndambexp      |\n         age |   .0868152   .0274556     3.16   0.002     .0330032    .1406272\n    1.female |   .6635053   .0609648    10.88   0.000     .5440165    .7829941\n        educ |    .061884    .012039     5.14   0.000      .038288    .0854801\n    1.blhisp |  -.3657835   .0619095    -5.91   0.000    -.4871239   -.2444432\n      totchr |   .7957496   .0712174    11.17   0.000      .656166    .9353332\n       1.ins |    .169107   .0629296     2.69   0.007     .0457673    .2924467\n      income |   .0026773   .0013105     2.04   0.041     .0001088    .0052458\n       _cons |  -.6686471   .1941247    -3.44   0.001    -1.049125   -.2881698\n-------------+----------------------------------------------------------------\n/mills       |\n      lambda |  -.5087361   .2894687    -1.76   0.079    -1.076084    .0586121\n-------------+----------------------------------------------------------------\n         rho |   -0.39250\n       sigma |  1.2961455\n------------------------------------------------------------------------------\n\nHeckman selection model                         Number of obs     =      3,328\n(regression model with sample selection)              Selected    =      2,802\n                                                      Nonselected =        526\n\n                                                Wald chi2(7)      =     285.98\nLog likelihood =  -5836.09                      Prob > chi2       =     0.0000\n\n------------------------------------------------------------------------------\n             | Coefficient  Std. err.      z    P>|z|     [95% conf. interval]\n-------------+----------------------------------------------------------------\nlambexp      |\n         age |   .2137594   .0232969     9.18   0.000     .1680983    .2594205\n    1.female |    .342293   .0615522     5.56   0.000     .2216528    .4629332\n        educ |   .0202746   .0110032     1.84   0.065    -.0012913    .0418406\n    1.blhisp |  -.2185104   .0598099    -3.65   0.000    -.3357357   -.1012852\n      totchr |   .5375964   .0398453    13.49   0.000      .459501    .6156918\n       1.ins |  -.0287728   .0511856    -0.56   0.574    -.1290946    .0715491\n      income |  -.0005026    .000989    -0.51   0.611    -.0024411    .0014359\n       _cons |   5.041712    .229726    21.95   0.000     4.591458    5.491967\n-------------+----------------------------------------------------------------\ndambexp      |\n         age |   .0878613   .0274099     3.21   0.001      .034139    .1415837\n    1.female |   .6628035    .060929    10.88   0.000     .5433848    .7822223\n        educ |   .0617998   .0120332     5.14   0.000     .0382152    .0853844\n    1.blhisp |  -.3636885   .0618724    -5.88   0.000    -.4849562   -.2424207\n      totchr |   .7968988   .0711265    11.20   0.000     .6574934    .9363041\n       1.ins |   .1699645   .0628669     2.70   0.007     .0467476    .2931815\n      income |   .0027483   .0013209     2.08   0.037     .0001595    .0053372\n       _cons |   -.675346   .1939739    -3.48   0.000    -1.055528    -.295164\n-------------+----------------------------------------------------------------\n     /athrho |  -.1419126   .1535634    -0.92   0.355    -.4428913    .1590661\n    /lnsigma |    .240186   .0146925    16.35   0.000     .2113892    .2689828\n-------------+----------------------------------------------------------------\n         rho |  -.1409675   .1505118                     -.4160382     .157738\n       sigma |   1.271486   .0186813                      1.235393    1.308633\n      lambda |  -.1792382   .1924853                     -.5565025    .1980261\n------------------------------------------------------------------------------\nLR test of indep. eqns. (rho = 0): chi2(1) = 1.02         Prob > chi2 = 0.3122\n```\n:::\n:::\n\n\n**2.7.** Create a table that reports the four models alongside one another and compare the results. \n\n::: {.cell execution_count=17}\n``` {.stata .cell-code}\nesttab heck_2sW heck_2sWO heck_mlW heck_mlWO, se scalar(N) mtitle(\"2-step,w/\" \"2-step,w/o\" \"ML,w/\" \"ML,w/o\") title(Heckman Selection Models) drop(0.*)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nHeckman Selection Models\n----------------------------------------------------------------------------\n                      (1)             (2)             (3)             (4)   \n                2-step,w/      2-step,w/o           ML,w/          ML,w/o   \n----------------------------------------------------------------------------\nlambexp                                                                     \nage                 0.202***        0.204***        0.212***        0.214***\n                 (0.0242)        (0.0244)        (0.0230)        (0.0233)   \n\n1.female            0.292***        0.279***        0.348***        0.342***\n                 (0.0726)        (0.0750)        (0.0601)        (0.0616)   \n\neduc               0.0124          0.0142          0.0187          0.0203   \n                 (0.0116)        (0.0118)        (0.0105)        (0.0110)   \n\n1.blhisp           -0.183**        -0.180**        -0.219***       -0.219***\n                 (0.0653)        (0.0656)        (0.0597)        (0.0598)   \n\ntotchr              0.501***        0.494***        0.540***        0.538***\n                 (0.0486)        (0.0495)        (0.0393)        (0.0398)   \n\n1.ins             -0.0465         -0.0461         -0.0300         -0.0288   \n                 (0.0530)        (0.0531)        (0.0511)        (0.0512)   \n\nincome                          -0.000746                       -0.000503   \n                                (0.00102)                      (0.000989)   \n\n_cons               5.289***        5.306***        5.044***        5.042***\n                  (0.289)         (0.290)         (0.228)         (0.230)   \n----------------------------------------------------------------------------\ndambexp                                                                     \nage                0.0868**        0.0868**        0.0879**        0.0879** \n                 (0.0275)        (0.0275)        (0.0274)        (0.0274)   \n\n1.female            0.664***        0.664***        0.663***        0.663***\n                 (0.0610)        (0.0610)        (0.0609)        (0.0609)   \n\neduc               0.0619***       0.0619***       0.0619***       0.0618***\n                 (0.0120)        (0.0120)        (0.0120)        (0.0120)   \n\n1.blhisp           -0.366***       -0.366***       -0.364***       -0.364***\n                 (0.0619)        (0.0619)        (0.0619)        (0.0619)   \n\ntotchr              0.796***        0.796***        0.797***        0.797***\n                 (0.0712)        (0.0712)        (0.0711)        (0.0711)   \n\n1.ins               0.169**         0.169**         0.170**         0.170** \n                 (0.0629)        (0.0629)        (0.0629)        (0.0629)   \n\nincome            0.00268*        0.00268*        0.00271*        0.00275*  \n                (0.00131)       (0.00131)       (0.00132)       (0.00132)   \n\n_cons              -0.669***       -0.669***       -0.676***       -0.675***\n                  (0.194)         (0.194)         (0.194)         (0.194)   \n----------------------------------------------------------------------------\n/mills                                                                      \nlambda             -0.464          -0.509                                   \n                  (0.283)         (0.289)                                   \n----------------------------------------------------------------------------\n/                                                                           \nathrho                                             -0.131          -0.142   \n                                                  (0.150)         (0.154)   \n\nlnsigma                                             0.240***        0.240***\n                                                 (0.0145)        (0.0147)   \n----------------------------------------------------------------------------\nN                    3328            3328            3328            3328   \n----------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n```\n:::\n:::\n\n\n## Postamble\n\n::: {.cell execution_count=18}\n``` {.stata .cell-code}\nlog close\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      name:  <unnamed>\n       log:  C:\\Users\\neil_\\OneDrive - University of Warwick\\Documents\\EC910\\we\n> bsite\\warwick-ec910\\problem-sets\\ps-6\\problem-set-6-log.txt\n  log type:  smcl\n closed on:  19 Nov 2024, 17:41:19\n-------------------------------------------------------------------------------\n```\n:::\n:::\n\n\n",
    "supporting": [
      "problem-set-6-solutions_files\\figure-pdf"
    ],
    "filters": []
  }
}