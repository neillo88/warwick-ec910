<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="author" content />
  <title>EC910 - Problem Set 2</title>
  <style>
html {
font-family: sans-serif;
color: #1a1a1a;
background-color: #fdfdfd;
}
body {
margin: 0 auto;
max-width: 36em;
padding-left: 50px;
padding-right: 50px;
padding-top: 50px;
padding-bottom: 50px;
hyphens: auto;
overflow-wrap: break-word;
text-rendering: optimizeLegibility;
font-kerning: normal;
}
@media (max-width: 600px) {
body {
font-size: 0.9em;
padding: 12px;
}
h1 {
font-size: 1.8em;
}
}
@media print {
html {
background-color: white;
}
body {
background-color: transparent;
color: black;
font-size: 12pt;
}
p, h2, h3 {
orphans: 3;
widows: 3;
}
h2, h3, h4 {
page-break-after: avoid;
}
}
p {
margin: 1em 0;
}
a {
color: #1a1a1a;
}
a:visited {
color: #1a1a1a;
}
img {
max-width: 100%;
}
svg {
height: auto;
max-width: 100%;
}
h1, h2, h3, h4, h5, h6 {
margin-top: 1.4em;
}
h5, h6 {
font-size: 1em;
font-style: italic;
}
h6 {
font-weight: normal;
}
ol, ul {
padding-left: 1.7em;
margin-top: 1em;
}
li > ol, li > ul {
margin-top: 0;
}
blockquote {
margin: 1em 0 1em 1.7em;
padding-left: 1em;
border-left: 2px solid #e6e6e6;
color: #606060;
}
code {
font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
font-size: 85%;
margin: 0;
hyphens: manual;
}
pre {
margin: 1em 0;
overflow: auto;
}
pre code {
padding: 0;
overflow: visible;
overflow-wrap: normal;
}
.sourceCode {
background-color: transparent;
overflow: visible;
}
hr {
background-color: #1a1a1a;
border: none;
height: 1px;
margin: 1em 0;
}
table {
margin: 1em 0;
border-collapse: collapse;
width: 100%;
overflow-x: auto;
display: block;
font-variant-numeric: lining-nums tabular-nums;
}
table caption {
margin-bottom: 0.75em;
}
tbody {
margin-top: 0.5em;
border-top: 1px solid #1a1a1a;
border-bottom: 1px solid #1a1a1a;
}
th {
border-top: 1px solid #1a1a1a;
padding: 0.25em 0.5em 0.25em 0.5em;
}
td {
padding: 0.125em 0.5em 0.25em 0.5em;
}
header {
margin-bottom: 4em;
text-align: center;
}
#TOC li {
list-style: none;
}
#TOC ul {
padding-left: 1.3em;
}
#TOC > ul {
padding-left: 0;
}
#TOC a:not(:hover) {
text-decoration: none;
}
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}
</style>
<style>
/* CSS for Markstat 2.0 using Pandoc 2.0 */
body{padding:14px 28px; max-width:45em;}
body, table {font-family: Helvetica, Arial, Sans-serif; font-size: 14px;}
h1, h2, h3, h4 {font-weight: normal; color: #3366cc}
h1 {font-size: 200%;}
h2 {font-size: 150%;}
h3 {font-size: 120%;}
h4 {font-size: 100%; font-weight:bold}
img.center {display:block; margin-left:auto; margin-right:auto}
.small{font-size:8pt;}
a {color: black;}
a:visited {color: #808080;}
a.plain {text-decoration:none;}
a.plain:hover {text-decoration:underline;}
.em {font-weight:bold;}
pre, code {font-family: "lucida console", monospace;}
pre.stata {font-size:13px; line-height:13px;}
pre {padding:8px; border:1px solid #c0c0c0; border-radius:8px; background-color:#fdfdfd;}
code {color:#3366cc; background-color:#fafafa;}
pre code { color:black; background-color:white}
/* Added for Pandoc */
figure > img, div.figure > img {display:block; margin:auto}
figcaption, p.caption {text-align:center; font-weight:bold; color:#3366cc;}
h1.title {text-align:center; margin-bottom:0}
p.author, h2.author {font-style:italic; text-align:center;margin-top:4px;margin-bottom:0}
p.date, h3.date {text-align:center;margin-top:4px; margin-bottom:0}
/* Tables*/
table { margin:auto; border-collapse:collapse; }
table caption { margin-bottom:1ex;}
td {padding:0 0 0 0} /* override */
table:not([class]) th { padding:4px 6px } 
table:not([class]) td { padding:4px 6px } 
table:not([class]) thead tr:first-child th {border-top:1px solid black; padding-top:6px}
table:not([class]) thead tr:last-child  th {padding-bottom:6px}
table:not([class]) tbody tr:first-child td {border-top:1px solid black; padding-top:6px}
table:not([class]) tbody tr:last-child  td {padding-bottom:6px;}
table:not([class]) tbody:last-child tr:last-child td {border-bottom:1px solid black;}
</style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">EC910 - Problem Set 2</h1>
<p class="author"></p>
<p class="date">14 Oct 2024</p>
</header>
<p>This problem set will take you through some Stata commands to
estimate simple regression equations with dummy variables. You will
learn how to interpret the estimated coefficients and test some linear
hypotheses. Interpretation of these coefficients will be useful when we
do treatment evaluation models later in term 1.</p>
<p>The hypothesis tests discussed in this problem set include standard
T-tests and F-tests, which is assumed undergraduate knowledge for this
module.</p>
<p>You will need to download the dataset problemset2.dta, which is
available on Moodle.</p>
<h2 id="conditional-expectation-function">Conditional Expectation
Function</h2>
<p>Consider the Conditional Expectation Function (CEF), <span class="math inline"><em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub>]</span>.
If <span class="math inline"><em>X</em></span> takes on discrete values:
<span class="math inline"><em>X</em><sub><em>i</em></sub> ∈ {<em>x</em><sub>1</sub>, <em>x</em><sub>2</sub>, ..., <em>x</em><sub><em>m</em></sub>}</span>,
then</p>
<p><span class="math display"><em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub>] = <em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub> = <em>x</em><sub>1</sub>] ⋅ <strong>1</strong>{<em>X</em><sub><em>i</em></sub> = <em>x</em><sub>1</sub>} + ... + <em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub> = <em>x</em><sub><em>m</em></sub>] ⋅ <strong>1</strong>{<em>X</em><sub><em>i</em></sub> = <em>x</em><sub><em>m</em></sub>}</span></p>
<p>where <span class="math inline"><strong>1</strong>{<em>X</em><sub><em>i</em></sub> = <em>x</em><sub><em>m</em></sub>}</span>
is a dummy variable, <span class="math inline"> = 1</span> when <span class="math inline"><em>X</em><sub><em>i</em></sub> = <em>x</em><sub><em>m</em></sub></span>.
Since the values of <span class="math inline"><em>X</em><sub><em>i</em></sub></span> are mutually
exclusive there is no overlap of these dummy variables.</p>
<p>Note, we do not need to assume that <span class="math inline"><em>X</em></span> is a single random variable. It
can be a vector of random variables that takes on discrete values.</p>
<p>We can re-arrange this expression using anyone of the values of <span class="math inline"><em>X</em></span>. The natural option is to choose
the first, but this is arbitrary.</p>
<p><span class="math display"><em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub>] = <em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub> = <em>x</em><sub>1</sub>] + (<em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub> = <em>x</em><sub>2</sub>] − <em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub> = <em>x</em><sub>2</sub>]) ⋅ <strong>1</strong>{<em>X</em><sub><em>i</em></sub> = <em>x</em><sub>2</sub>} + ...</span>
<span class="math display">+(<em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub> = <em>x</em><sub><em>m</em></sub>] − <em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub> = <em>x</em><sub>2</sub>]) ⋅ <strong>1</strong>{<em>X</em><sub><em>i</em></sub> = <em>x</em><sub><em>m</em></sub>}</span></p>
<p>Since, <span class="math inline"><em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub> = <em>x</em><sub><em>m</em></sub>]</span>
is a constant (<span class="math inline"><em>X</em><sub><em>i</em></sub></span> is set to a
specific value), we can express the CEF as a function that is linear in
parameters.</p>
<p><span class="math display"><em>E</em>[<em>Y</em><sub><em>i</em></sub>|<em>X</em><sub><em>i</em></sub>] = <em>β</em><sub>1</sub> + <em>β</em><sub>2</sub><em>D</em><sub><em>i</em>2</sub> + ... + <em>β</em><sub><em>m</em></sub><em>D</em><sub><em>i</em><em>m</em></sub></span></p>
<p>where <span class="math inline"><em>D</em><sub><em>i</em><em>m</em></sub><strong>1</strong>{<em>X</em><sub><em>i</em></sub> = <em>x</em><sub><em>m</em></sub>}</span>.</p>
<h2 id="preamble">Preamble</h2>
<p>Create a do-file for this problem set and include a preamble that
sets the directory and opens the data. For example,</p>
<pre class='stata'>. clear all

. cd "C:\Users\neil_\OneDrive - University of Warwick\Documents\EC910\seminars\ps2"
C:\Users\neil_\OneDrive - University of Warwick\Documents\EC910\seminars\ps2

. use problemset2.dta
(PSID wage data 1976-82 from Baltagi and Khanti-Akom (1990))
</pre>
<p><strong>1.</strong> Consider the <span class="math inline"><em>E</em>[<em>l</em><em>n</em>(<em>W</em><em>a</em><em>g</em><em>e</em><sub><em>i</em></sub>)|<em>G</em><em>e</em><em>n</em><em>d</em><em>e</em><em>r</em><sub><em>i</em></sub>]</span>,
where <span class="math inline">$Gender_i\in\{1 ``Male&#39;&#39;, 2
``Female&#39;&#39;\}$</span>. Show that this CEF implies a linear model,</p>
<p><span class="math display"><em>l</em><em>n</em>(<em>W</em><em>a</em><em>g</em><em>e</em><sub><em>i</em></sub>) = <em>β</em><sub>1</sub> + <em>β</em><sub>2</sub><em>D</em><sub><em>i</em>2</sub> + <em>ε</em><sub><em>i</em></sub></span></p>
<p>What do the parameters <span class="math inline"><em>β</em><sub>1</sub></span> and <span class="math inline"><em>β</em><sub>2</sub></span> imply?</p>
<p><strong>2.</strong> Regress <code>lwage</code> (log wage) on just a
set of binary indicators that will enable you to test the hypothesis
that males and females are on average, paid the same wage, ceteris
paribus. Test this hypothesis.</p>
<p><strong>3.</strong> Extend the specification in (2) that will enable
you to test the hypothesis that there is no difference in the wages
between the following gender-ethnicity groups. Begin by defining the
following dummy variables:</p>
<ul>
<li><p><code>female_black</code> = <code>female</code><span class="math inline">×</span><code>black</code></p></li>
<li><p><code>male_black</code> = (1-<code>female</code>)<span class="math inline">×</span><code>black</code></p></li>
<li><p><code>female_nonblack</code> = <code>female</code><span class="math inline">×</span>(1-<code>black</code>)</p></li>
<li><p><code>male_nonblack</code> = (1-<code>female</code>)<span class="math inline">×</span>(1-<code>black</code>)</p></li>
</ul>
<p>Then estimate the following regressions:</p>
<ol type="a">
<li><p><code>lwage</code> on <code>female_black</code>,
<code>female_nonblack</code>, <code>male_black</code>,
<code>male_nonblack</code> (without a constant: option
<code>nocons</code>)</p></li>
<li><p><code>lwage</code> on <code>female</code>, <code>black</code>,
<code>female_black</code></p></li>
<li><p><code>lwage</code> on <code>female_black</code>,
<code>female_nonblack</code>, <code>male_black</code></p></li>
</ol>
<p>For some of these exercises you may be able to use Stata’s factor
notation. However, in some instances you will need to manually create
the above dummy-variable interactions.</p>
<p>In each case, identify the base category and write down the
parameters of the (implied) model in terms of conditional
expectations.</p>
<p><strong>4.</strong> Compare the estimated coefficients with the
sample average values for the lwage for the four subgroups. What do you
see?</p>
<p><strong>5.</strong> In each of the above models, describe the null
hypothesis you would test to evaluate whether there is a significant
earnings difference between the earnings of black and non-black
females.</p>
<p><strong>6.</strong> Very your solution to 4. by performing a test
using the three set of regression output. You can use the
post-estimation <code>test</code> command.</p>
<p><strong>7.</strong> In each case, test equality across all four
gender-ethnicity groups. Again, you should get the same result.</p>
<p><strong>8.</strong> Try to replicate the F-statistic for one of the
above models. Hint, the F-stat for these models is the same as that of
the whole model.</p>
<p><strong>9.</strong> Estimate the following model:</p>
<p><span class="math display"><em>l</em><em>w</em><em>a</em><em>g</em><em>e</em> = <em>β</em><sub>1</sub> + <em>β</em><sub>2</sub><em>F</em> + <em>β</em><sub>3</sub><em>B</em> + <em>β</em><sub>4</sub><em>F</em> × <em>B</em> + <em>β</em><sub>5</sub><em>e</em><em>x</em><em>p</em> + <em>β</em><sub>6</sub><em>e</em><em>x</em><em>p</em><sup>2</sup> + <em>β</em><sub>7</sub><em>e</em><em>d</em><em>u</em><em>c</em> + <em>ε</em></span></p>
<ul>
<li><p>Interpret the estimated coeffiecients <span class="math inline"><em>β̂</em><sub>7</sub></span>.</p></li>
<li><p>Interpret the effect of experience variable <code>exp</code>. Use
the median level of experience to make your calculation.</p></li>
<li><p>A one unit incease in years of education is associated with an
increase of 1.78% in expected wages, holding other regressors
fixed.</p></li>
</ul>
<p><strong>10.</strong> Theoretically, how would you test the following
restrictions for the model below?</p>
<ol type="a">
<li><p><span class="math inline"><em>β</em><sub>2</sub> = <em>β</em><sub>3</sub></span></p></li>
<li><p><span class="math inline"><em>β</em><sub>4</sub> + <em>β</em><sub>5</sub> = 1</span></p></li>
<li><p><span class="math inline"><em>β</em><sub>2</sub> = <em>β</em><sub>3</sub></span>
<strong>and</strong> <span class="math inline"><em>β</em><sub>4</sub> + <em>β</em><sub>5</sub> = 1</span></p></li>
</ol>
<p><span class="math display"><em>Y</em> = <em>β</em><sub>1</sub> + <em>β</em><sub>2</sub><em>X</em><sub>2</sub> + <em>β</em><sub>3</sub><em>X</em><sub>3</sub> + <em>β</em><sub>4</sub><em>X</em><sub>4</sub> + <em>β</em><sub>5</sub><em>X</em><sub>5</sub> + <em>ε</em></span></p>
</body>
</html>
